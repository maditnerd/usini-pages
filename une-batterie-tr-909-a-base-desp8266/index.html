<!DOCTYPE html><html lang="fr"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Une batterie TR-909 Ã  base d&#x27;esp8266 - Usini</title><meta name="description" content="Bien que Mozzi permettent de jouer des samples enregistrÃ©s dans un programme,&hellip;"><meta name="robots" content="index, follow"><meta name="generator" content="Publii Open-Source CMS for Static Site"><link rel="canonical" href="https://fr.usini.eu/une-batterie-tr-909-a-base-desp8266/"><link rel="amphtml" href="https://fr.usini.eu/amp/une-batterie-tr-909-a-base-desp8266/"><link type="application/atom+xml" rel="alternate" href="https://fr.usini.eu/feed.xml"><meta property="og:title" content="Une batterie TR-909 Ã  base d'esp8266"><meta property="og:image" content="https://fr.usini.eu/media/posts/13/tr909.jpg"><meta property="og:site_name" content="Usini"><meta property="og:description" content="Bien que Mozzi permettent de jouer des samples enregistrÃ©s dans un programme,&hellip;"><meta property="og:url" content="https://fr.usini.eu/une-batterie-tr-909-a-base-desp8266/"><meta property="og:type" content="article"><meta name="twitter:card" content="summary"><meta name="twitter:site" content="@m4dnerd"><meta name="twitter:title" content="Une batterie TR-909 Ã  base d'esp8266"><meta name="twitter:description" content="Bien que Mozzi permettent de jouer des samples enregistrÃ©s dans un programme,&hellip;"><meta name="twitter:image" content="https://fr.usini.eu/media/posts/13/tr909.jpg"><link rel="shortcut icon" href="https://fr.usini.eu/media/website/usini.png" type="image/png"><link rel="preconnect" href="https://fonts.gstatic.com/" crossorigin><link href="https://fonts.googleapis.com/css?family=Heebo:400,500%7CPlayfair+Display:400" rel="stylesheet"><link rel="stylesheet" href="https://fr.usini.eu/assets/css/style.css?v=706ef4ec0cd09b72d05d25c9b98bd69d"><script type="application/ld+json">{"@context":"http://schema.org","@type":"Article","mainEntityOfPage":{"@type":"WebPage","@id":"https://fr.usini.eu/une-batterie-tr-909-a-base-desp8266/"},"headline":"Une batterie TR-909 Ã  base d'esp8266","datePublished":"2019-05-31T15:31","dateModified":"2019-06-03T13:34","image":{"@type":"ImageObject","url":"https://fr.usini.eu/media/posts/13/tr909.jpg","height":675,"width":900},"description":"Bien que Mozzi permettent de jouer des samples enregistrÃ©s dans un programme,&hellip;","author":{"@type":"Person","name":"RÃ©mi Sarrailh"},"publisher":{"@type":"Organization","name":"RÃ©mi Sarrailh","logo":{"@type":"ImageObject","url":"https://fr.usini.eu/media/website/logo_final.png","height":103,"width":200}}}</script><script async src="https://fr.usini.eu/assets/js/lazysizes.min.js?v=147e00ada76b65f2883e072a5f738644"></script></head><body><div class="container"><header><a class="logo" href="https://fr.usini.eu/"><img src="https://fr.usini.eu/media/website/logo_final.png" alt="Usini"></a><div class="top"><nav class="navbar js-navbar"><button class="navbar__toggle js-navbar__toggle" aria-expanded="false">Menu</button><ul class="navbar__menu"><li><a href="https://twitter.com/m4dnerd" target="_self">ğŸ¤ Twitter</a></li><li><a href="https://www.youtube.com/user/maditnerd" target="_self">ğŸ“¼ Youtube</a></li><li><a href="https://wikifab.org/wiki/Group:LABSud" target="_self">ğŸ“— Wikifab</a></li><li><a href="https://soundcloud.com/remisarrailh" target="_self">ğŸµ Soundcloud</a></li><li><a href="https://fr.usini.eu/web/guide/" target="_self">ğŸ›’Guides d&#x27;achat</a></li></ul></nav></div></header><main><article class="post u-wrapper"><header class="hero"><p class="post__meta">Ã‰crit par <a href="https://fr.usini.eu/auteurs/remi-sarrailh/" rel="author" title="RÃ©mi Sarrailh">RÃ©mi Sarrailh</a> PubliÃ© le <time datetime="2019-05-31T15:31">31 mai 2019</time></p><h1 class="post__title">Une batterie TR-909 Ã  base d&#x27;esp8266</h1></header><div class="post__featured-image post__image--normal"><img class="lazyload" src="https://fr.usini.eu/media/posts/13/responsive/tr909-xs.jpg" data-srcset="https://fr.usini.eu/media/posts/13/responsive/tr909-xs.jpg 300w ,https://fr.usini.eu/media/posts/13/responsive/tr909-sm.jpg 480w ,https://fr.usini.eu/media/posts/13/responsive/tr909-md.jpg 768w ,https://fr.usini.eu/media/posts/13/responsive/tr909-lg.jpg 1024w ,https://fr.usini.eu/media/posts/13/responsive/tr909-xl.jpg 1360w ,https://fr.usini.eu/media/posts/13/responsive/tr909-2xl.jpg 1600w ,https://fr.usini.eu/media/posts/13/responsive/tr909-sm2.jpg 375w" data-sizes="auto" width="900" height="675" alt=""></div><div class="post__entry"><p>Bien que <a href="https://sensorium.github.io/Mozzi/">Mozzi </a>permettent de jouer des samples enregistrÃ©s dans un programme, il <strong>n'est capable que de stocker 90ko de donnÃ©es</strong> (car ils sont sauvÃ©s dans les variables (90k) pas la mÃ©moire utilisÃ©s par le croquis (1mo)) J'ai vu un tutoriel qui permet de faire Ã§a, il utilise l'interface i2s<br><a title="http://blog.dspsynth.eu/" class="anchor-3Z-8Bb anchorUnderlineOnHover-2ESHQB" href="http://blog.dspsynth.eu/" rel="noopener noreferrer" target="_blank" role="button" tabindex="0">http://blog.dspsynth.eu/</a></p><p>L'example permet de crÃ©er un gÃ©nÃ©rateur de son de batterie avec des samples de roland TR-909</p><div class="messageCozy-2JPAPA message-1PNnaP"><div class="contentCozy-3XX413 content-3dzVd8"><div class="containerCozy-336-Cz container-206Blv"><div class="markup-2BOw-j">Le code est disponible ici : <a title="http://www.dspsynth.eu/files/code/rtpMIDI909.ino" class="anchor-3Z-8Bb anchorUnderlineOnHover-2ESHQB" href="http://www.dspsynth.eu/files/code/rtpMIDI909.ino" rel="noopener noreferrer" target="_blank" role="button" tabindex="0">http://www.dspsynth.eu/files/code/rtpMIDI909.ino</a></div></div><div class="containerCozy-B4noqO container-1e22Ot">Â </div></div></div><div class="messageCozy-2JPAPA message-1PNnaP"><div class="contentCozy-3XX413 content-3dzVd8"><div class="containerCozy-336-Cz container-206Blv"><div class="buttonContainer-KtQ8wc">Plus d'information sur l'I2S - Page 14 de la documentation officielle sur esp8266 <a title="https://www.espressif.com/sites/default/files/documentation/0a-esp8266ex_datasheet_en.pdf" class="anchor-3Z-8Bb anchorUnderlineOnHover-2ESHQB" href="https://www.espressif.com/sites/default/files/documentation/0a-esp8266ex_datasheet_en.pdf" rel="noopener noreferrer" target="_blank" role="button" tabindex="0">https://www.espressif.com/sites/default/files/documentation/0a-esp8266ex_datasheet_en.pdf</a></div><div class="buttonContainer-KtQ8wc">Â </div><div class="buttonContainer-KtQ8wc"><code>ESP8266EX has one I2S data input interface and one I2S data output interface, and supports the linked list DMA. I2S interfaces are mainly used in applications such as data collection, processing, and transmission of audio data, as well as the input and output of serial data. For example, LED lights (WS2812 series) are supported.</code></div><div class="buttonContainer-KtQ8wc">Â </div><div class="buttonContainer-KtQ8wc">Le son si on relie directement un jack sur l'esp8266 (sur RX) n'est pas propre, il faut un filtre passe bas.</div><div class="buttonContainer-KtQ8wc"><figure class="post__image--center"><img class="lazyload" src="https://fr.usini.eu/media/posts/13/responsive/pdm-lpf-xs.png" data-sizes="auto" data-srcset="https://fr.usini.eu/media/posts/13/responsive/pdm-lpf-xs.png 300w ,https://fr.usini.eu/media/posts/13/responsive/pdm-lpf-sm.png 480w ,https://fr.usini.eu/media/posts/13/responsive/pdm-lpf-md.png 768w ,https://fr.usini.eu/media/posts/13/responsive/pdm-lpf-lg.png 1024w" alt="" width="520" height="185"></figure></div><div class="buttonContainer-KtQ8wc">Le code est pensÃ© pour Ãªtre utiliser avec Apple Midi (rtp-midi) qui permet de connecter des contrÃ´leurs MIDI sur le Wi-Fi) sous Windows, on va avoir besoin de LoopMidi et rtpmidi pour que Ã§a marche.<br><a title="https://www.tobias-erichsen.de/software/rtpmidi.html" class="anchor-3Z-8Bb anchorUnderlineOnHover-2ESHQB" href="https://www.tobias-erichsen.de/software/rtpmidi.html" rel="noopener noreferrer" target="_blank" role="button" tabindex="0">https://www.tobias-erichsen.de/software/rtpmidi.html</a></div><div class="buttonContainer-KtQ8wc">Â </div><div class="buttonContainer-KtQ8wc">Normalement rtp-midi est capable de dÃ©tecter automatiquement les contrÃ´leurs connectÃ©s mais j'ai du rentrer manuellement l'IP de l'esp dans DIRECTORY (IP:5004)</div><div class="buttonContainer-KtQ8wc"><figure class="post__image--center"><img class="lazyload" src="https://fr.usini.eu/media/posts/13/responsive/rtpmidi-xs.png" data-sizes="auto" data-srcset="https://fr.usini.eu/media/posts/13/responsive/rtpmidi-xs.png 300w ,https://fr.usini.eu/media/posts/13/responsive/rtpmidi-sm.png 480w ,https://fr.usini.eu/media/posts/13/responsive/rtpmidi-md.png 768w ,https://fr.usini.eu/media/posts/13/responsive/rtpmidi-lg.png 1024w" width="621" height="413"></figure></div><div class="buttonContainer-KtQ8wc">A partir de lÃ , on peut utiliser n'importe que logiciel de MAO (musique assistÃ© par ordinateur), je vais utiliser LMMS vu qu'il est libre :-)</div><div class="buttonContainer-KtQ8wc"><figure class="post__image--center"><img class="lazyload" src="https://fr.usini.eu/media/posts/13/responsive/lmms-xs.png" data-sizes="auto" data-srcset="https://fr.usini.eu/media/posts/13/responsive/lmms-xs.png 300w ,https://fr.usini.eu/media/posts/13/responsive/lmms-sm.png 480w ,https://fr.usini.eu/media/posts/13/responsive/lmms-md.png 768w ,https://fr.usini.eu/media/posts/13/responsive/lmms-lg.png 1024w" alt="" width="277" height="477"></figure></div><div class="buttonContainer-KtQ8wc">Il suffit de :</div><ul><li class="buttonContainer-KtQ8wc">CrÃ©er une piste avec n'importe quel instrument</li><li class="buttonContainer-KtQ8wc">Couper le son de l'instrument</li><li class="buttonContainer-KtQ8wc">Aller sur l'icone piano</li><li class="buttonContainer-KtQ8wc">Activer la sortie Midi, Canal 10</li><li class="buttonContainer-KtQ8wc">Choisir le port midi (qui sera le nom de l'ordinateur)</li></ul><div class="buttonContainer-KtQ8wc">Â </div><div class="buttonContainer-KtQ8wc">J'ai un son parasite rÃ©gulier sur le son, aucune idÃ©e d'oÃ¹ Ã§a vient mais sinon le son est pas mal.</div><div class="buttonContainer-KtQ8wc"><audio controls="controls"><source src="/media/files/tr909.mp3" type="audio/mp3"><source src="/media/files/tr909.ogg" type="audio/ogg"></audio>Â </div><div class="buttonContainer-KtQ8wc">Â </div><div class="buttonContainer-KtQ8wc">DÃ©tail "amusant" vu que la sortie I2S est sur la broche RX, lors du tÃ©lÃ©versement du programme, on peut Ã©couter le programme se copier.</div><div class="buttonContainer-KtQ8wc"><audio controls="controls"><source src="/media/files/upload.mp3" type="audio/mp3"><source src="/media/files/upload.ogg" type="audio/ogg"></audio>Â </div><div class="buttonContainer-KtQ8wc">Â </div><span style="text-decoration: underline;">Composants</span><br><ul><li><a href="http://s.click.aliexpress.com/e/wAsXMHw">ESP8266 (Wemos D1 Mini Clone)</a></li><li><a href="http://s.click.aliexpress.com/e/bLEZha2M">Headphones Socket</a></li></ul><p>Â </p></div></div></div></div><footer class="post__footer"><div class="post__last-updated">Cette article a Ã©tÃ© mise Ã  jour le 3 juin 2019</div><div class="post__footer__col"><ul class="post__tag"><li><a href="https://fr.usini.eu/web/esp8266/">esp8266</a></li><li><a href="https://fr.usini.eu/web/i2s/">i2s</a></li><li><a href="https://fr.usini.eu/web/midi/">midi</a></li><li><a href="https://fr.usini.eu/web/musique/">musique</a></li><li><a href="https://fr.usini.eu/web/tr-909/">tr-909</a></li><li><a href="https://fr.usini.eu/web/wifi/">wifi</a></li></ul><div class="post__share"><a href="https://www.facebook.com/sharer/sharer.php?u=https%3A%2F%2Ffr.usini.eu%2Fune-batterie-tr-909-a-base-desp8266%2F" class="js-share facebook" title="Partager sur Facebook" rel="nofollow"><svg class="icon"><use xlink:href="https://fr.usini.eu/assets/svg/svg-map.svg#facebook"/></svg> </a><a href="https://twitter.com/share?url=https%3A%2F%2Ffr.usini.eu%2Fune-batterie-tr-909-a-base-desp8266%2F&amp;via=https%3A%2F%2Ftwitter.com%2Fm4dnerd&amp;text=Une%20batterie%20TR-909%20%C3%A0%20base%20d'esp8266" class="js-share twitter" title="Partager sur Twitter" rel="nofollow"><svg class="icon"><use xlink:href="https://fr.usini.eu/assets/svg/svg-map.svg#twitter"/></svg> </a><a href="https://pinterest.com/pin/create/button/?url=https%3A%2F%2Ffr.usini.eu%2Fune-batterie-tr-909-a-base-desp8266%2F&amp;media=https%3A%2F%2Ffr.usini.eu%2Fmedia%2Fposts%2F13%2Ftr909.jpg&amp;description=Une%20batterie%20TR-909%20%C3%A0%20base%20d'esp8266" class="js-share pinterest" title="[MISSING TRANSLATION] Partager sur Pinterest" rel="nofollow"><svg class="icon"><use xlink:href="https://fr.usini.eu/assets/svg/svg-map.svg#pinterest"/></svg> </a><a href="https://mix.com/add?url=https%3A%2F%2Ffr.usini.eu%2Fune-batterie-tr-909-a-base-desp8266%2F" class="js-share mix" title="Partager sur Mix" rel="nofollow"><svg class="icon"><use xlink:href="https://fr.usini.eu/assets/svg/svg-map.svg#mix"/></svg> </a><a href="http://www.linkedin.com/shareArticle?url=https%3A%2F%2Ffr.usini.eu%2Fune-batterie-tr-909-a-base-desp8266%2F&amp;title=Une%20batterie%20TR-909%20%C3%A0%20base%20d'esp8266" class="js-share linkedin" title="Partager sur LinkedIn" rel="nofollow"><svg class="icon"><use xlink:href="https://fr.usini.eu/assets/svg/svg-map.svg#linkedin"/></svg> </a><a href="https://buffer.com/add?text=Une%20batterie%20TR-909%20%C3%A0%20base%20d'esp8266&amp;url=https%3A%2F%2Ffr.usini.eu%2Fune-batterie-tr-909-a-base-desp8266%2F" class="js-share buffer" title="Partager sur Buffer" rel="nofollow"><svg class="icon"><use xlink:href="https://fr.usini.eu/assets/svg/svg-map.svg#buffer"/></svg></a></div></div><nav class="post__nav"><div class="post__nav__prev">Article prÃ©cÃ©dent<h5><a href="https://fr.usini.eu/micro-numerique-pour-esp32/" class="inverse" rel="prev">Micro numÃ©rique pour ESP32</a></h5></div><div class="post__nav__next">Article suivant<h5><a href="https://fr.usini.eu/creer-une-manette-xbox360-a-base-darduino/" class="inverse" rel="next">CrÃ©er une manette XBOX360 Ã  base d&#x27;arduino</a></h5></div></nav><div class="post__bio"><img class="lazyload" data-src="https://fr.usini.eu/media/website/xDI07NeE_400x400.jpg" alt="RÃ©mi Sarrailh"><div><h3><a href="https://fr.usini.eu/auteurs/remi-sarrailh/" class="inverse" title="RÃ©mi Sarrailh">RÃ©mi Sarrailh</a></h3></div></div><div class="post__related"><h3 class="u-h5">Articles connexes</h3><div class="post__related__wrap"><figure><a href="https://fr.usini.eu/guide-cartes-electroniques/"><img class="lazyload" src="https://fr.usini.eu/media/posts/19/responsive/buy_guide-xs.jpg" data-srcset="https://fr.usini.eu/media/posts/19/responsive/buy_guide-xs.jpg" data-expand="300" alt=""></a><figcaption><h4><a href="https://fr.usini.eu/guide-cartes-electroniques/" class="inverse">Guide cartes Ã©lectroniques</a></h4><time datetime="2019-06-04T12:09">4 juin 2019</time></figcaption></figure><figure><a href="https://fr.usini.eu/capteur-de-couleur-tcs34725/"><img class="lazyload" src="https://fr.usini.eu/media/posts/17/responsive/colorsensor-xs.jpg" data-srcset="https://fr.usini.eu/media/posts/17/responsive/colorsensor-xs.jpg" data-expand="300" alt=""></a><figcaption><h4><a href="https://fr.usini.eu/capteur-de-couleur-tcs34725/" class="inverse">Capteur de couleur (TCS34725)</a></h4><time datetime="2019-05-31T18:52">31 mai 2019</time></figcaption></figure><figure><a href="https://fr.usini.eu/capteur-meteo-mqtt-sur-esp32/"><img class="lazyload" src="https://fr.usini.eu/media/posts/15/responsive/esp32mqtt-xs.jpg" data-srcset="https://fr.usini.eu/media/posts/15/responsive/esp32mqtt-xs.jpg" data-expand="300" alt=""></a><figcaption><h4><a href="https://fr.usini.eu/capteur-meteo-mqtt-sur-esp32/" class="inverse">Capteur MÃ©tÃ©o MQTT sur ESP32</a></h4><time datetime="2019-05-31T16:07">31 mai 2019</time></figcaption></figure></div></div></footer></article></main><footer class="footer"><div class="footer__copyright"><p>Ce site utilise <a href="https://getpublii.com/">Publii</a></p><p>Le contenu (sauf exception) est sous licence Creatives Commons BY-NC</p></div><div class="footer__social"><a href="@m4dnerd" aria-label="Twitter"><svg class="icon"><use xlink:href="https://fr.usini.eu/assets/svg/svg-map.svg#twitter"/></svg> </a><a href="https://www.youtube.com/user/maditnerd" aria-label="Youtube"><svg class="icon"><use xlink:href="https://fr.usini.eu/assets/svg/svg-map.svg#youtube"/></svg></a></div></footer></div><script defer="defer" src="https://fr.usini.eu/assets/js/jquery-3.2.1.slim.min.js?v=f307ecc7f6353949f03c06ffa70652a2"></script><script defer="defer" src="https://fr.usini.eu/assets/js/scripts.min.js?v=16be857f09f55a0c76ea5e92e1f5f9d0"></script></body></html>